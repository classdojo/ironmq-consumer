var expect = require("expect.js");
var Consumer = require("../lib");
var IronMQStub = require("./stubs/ironmq");
var sleep = require("sleep");

/* 
 * Tests the 
 */

describe("Consumer", function() {
//   var testToken = "";
//   var testProject = "";

//   describe("#register", function() {
//     it("should allow us to register a job");
//   });

//   describe("#deregister", function() {
//     it("should allow");
//   });

//   describe("#start", function() {
//     it("should start the consumer loop");
//   });

//   describe("#stop", function() {
//     it("should stop the consumer loop");
//   });

//   describe("#info", function() {
//     it("should print out useful information about the consumer's runtime");
//   });

//   describe("#_loop", function() {

//     describe("empty queue", function() {
//       var consumer;
//       afterEach(function(done) {
//         consumer.stop();
//       });

//       it("should not error out if queue is empty", function(done) {
//         var Client = new IronMQStub.Client();
//         Client.set([]);
//         consumer = new Consumer({token: token, projectId: projectId, client: Client});
//         consumer.start();
//         sleep.sleep(2); //just block for a few seconds.
//         done();
//       });
//     });

//     describe("improper job data", function() {
//       it("should log an error", function(done) {
//         done();
//       });

//       it("should keep the message on the queue", function(done) {
//         done();
//       });

//       it("should increment the attempts count for the message");
//     }

//     describe("proper job data", function() {

//       describe("with a registered worker", function() {
//         it("should signal success and remove the message from the queue");
//       });

//       describe("without a registered worker", function() {
//         it("should record an error");

//         it("should keep the message on the queue");

//         it("should increment the attempts count");
//       });
//     });

//   });
});

